<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Running Unit Tests on .NET nanoFramework | .NET nanoFramework Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Running Unit Tests on .NET nanoFramework | .NET nanoFramework Documentation ">
    

      <link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
      <link rel="manifest" href="../../favicons/site.webmanifest">
      <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
      <link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#179b88">
      <meta name="msapplication-config" content="../../favicons/browserconfig.xml">
      <meta name="msapplication-TileColor" content="#222222">
      <meta name="theme-color" content="#222222">

      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../../x-cross/toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="running-unit-tests-on-net-nanoframework">Running Unit Tests on .NET <strong>nanoFramework</strong></h1>

<p>You first need to setup your .NET <strong>nanoFramework</strong> Unit Test project. For this, you have 2 options, either you create a <code>NFUnitTest</code> project from Visual Studio, either you add a the nanoFramework.TestFramework NuGet to your class library project.</p>
<h2 id="setting-up-through-visual-studio-project-template">Setting up through Visual Studio project template</h2>
<p>You can as well simply create a new Visual Studio NFUnitTest project that will already contains all the needed elements.</p>
<p><img src="../../images/test-project-template.png" alt="test VS project"></p>
<h3 id="setting-up-unit-test-through-nuget">Setting up Unit Test through NuGet</h3>
<p>The .NET <strong>nanoFramework</strong> Unit Test platform is available thru a NuGet and comes with all the needed element. The only thing you need to do it to add it to your .NET <strong>nanoFramework</strong> project:</p>
<p><img src="../../images/test-nuget-test-framework.jpg" alt="add test NuGet"></p>
<p>Make sure you have in the main directory of your sln file or in the same directory as your nfproj a <code>.runsettings</code> and the minium elements you need are:</p>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RunSettings&gt;
   &lt;!-- Configurations that affect the Test Framework --&gt;
   &lt;RunConfiguration&gt;
       &lt;MaxCpuCount&gt;1&lt;/MaxCpuCount&gt;
       &lt;ResultsDirectory&gt;.\TestResults&lt;/ResultsDirectory&gt;&lt;!-- Path relative to solution directory --&gt;
       &lt;TestSessionTimeout&gt;120000&lt;/TestSessionTimeout&gt;&lt;!-- Milliseconds --&gt;
       &lt;TargetFrameworkVersion&gt;Framework40&lt;/TargetFrameworkVersion&gt;
   &lt;/RunConfiguration&gt;
   &lt;nanoFrameworkAdapter&gt;
    &lt;Logging&gt;None&lt;/Logging&gt;
    &lt;IsRealHardware&gt;False&lt;/IsRealHardware&gt;
   &lt;/nanoFrameworkAdapter&gt;
&lt;/RunSettings&gt;
</code></pre>
<p>The most important part is the <code>&lt;TargetFrameworkVersion&gt;Framework40&lt;/TargetFrameworkVersion&gt;</code> as this is what trigger the discovery of the tests.</p>
<h2 id="discover-the-tests">Discover the tests</h2>
<p>Once you'll build your project, the tests will be discovered automatically:</p>
<p><img src="../../images/test-discovered.jpg" alt="test discover"></p>
<p>This is automatic and you just need to build. If any issue, you can try the <code>Rebuild</code> option, it will force a rediscovery of the tests.</p>
<h2 id="running-the-tests-on-a-real-hardware">Running the tests on a real hardware</h2>
<p>You'll have to adjust the <code>.runsettings</code> file entry <code>IsRealHardware</code> to true:</p>
<pre><code class="lang-xml">&lt;IsRealHardware&gt;True&lt;/IsRealHardware&gt;
</code></pre>
<p>Once you'll run the rests, they will be deployed into the device attached to your machine.</p>
<h2 id="running-the-tests">Running the tests</h2>
<p>Simply press the play button for all the tests or just the test you want to run. In case of success, you'll see something like this:</p>
<p><img src="../../images/test-success.jpg" alt="test success"></p>
<p>In case one of your test will fail, you'll see this:</p>
<p><img src="../../images/test-failed.jpg" alt="test failed"></p>
<p>Some tests may be skipped, they will appear like this:</p>
<p><img src="../../images/test-skipped.jpg" alt="test skipped"></p>
<h2 id="test-coverage-and-code-highlighting">Test coverage and code highlighting</h2>
<p>As you can expect in your code, you'll get the covered tests on the tests methods but as well on the methods that have been called:</p>
<p><img src="../../images/test-code-highlight.jpg" alt="test highlight"></p>
<p>In case of failure, you'll get the same:</p>
<p><img src="../../images/test-integration-vs-failed.jpg" alt="test failed"></p>
<h2 id="running-the-tests-in-a-pipeline">Running the tests in a pipeline</h2>
<p>The tests can be run in a pipeline using <code>vstest.Console.exe</code>. The adapter to use is <code>nanoFramework.TestAdapter.dll</code>. You'll find all this into the NuGet package.</p>
<h2 id="updating-the-nuget">Updating the NuGet</h2>
<p>When you are updating the NuGet if you've done changes into your <code>.runsettings</code> file, you will be prompt to replace the file, depending on the choices you have done, you may want to save your choices and merge them into the new file. We do recommend to use the new file and adjust it.</p>
<p><img src="../../images/test-replace-runsettings.jpg" alt="replace NuGet"></p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nanoframework/nanoframework.github.io/blob/pages-source/content\unit-test\running-tests.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Copyright © 2023 nanoFramework Contributors<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
