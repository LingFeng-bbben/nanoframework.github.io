<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>MH-Z19B CO2-Sensor | .NET nanoFramework Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="MH-Z19B CO2-Sensor | .NET nanoFramework Documentation ">
    

      <link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="../../favicons/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="../../favicons/favicon-16x16.png">
      <link rel="manifest" href="../../favicons/site.webmanifest">
      <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">
      <link rel="mask-icon" href="../../favicons/safari-pinned-tab.svg" color="#179b88">
      <meta name="msapplication-config" content="../../favicons/browserconfig.xml">
      <meta name="msapplication-TileColor" content="#222222">
      <meta name="theme-color" content="#222222">

      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../../x-cross/toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="mh-z19b-co2-sensor">MH-Z19B CO2-Sensor</h1>

<p>Binding for the MH-Z19B NDIR infrared gas module. The gas module measures the CO2 gas concentration in the ambient air.</p>
<h2 id="documentation">Documentation</h2>
<p><a href="https://www.winsen-sensor.com/d/files/infrared-gas-sensor/mh-z19b-co2-ver1_0.pdf">MH-Z19b Datasheet</a></p>
<h2 id="usage">Usage</h2>
<p><strong>Important</strong>: Make sure you install the <code>nanoFramework.Hardware.ESP32 nuget</code> and properly setup the UART pins especially for ESP32 before creating the <code>Serialport</code>.</p>
<p>The binding can be instantiated using an existing serial UART stream or with the name (e.g. <code>COM2</code> ) of the serial interface to be used.
If using an existing stream <code>shouldDispose</code> indicates whether the stream shall be disposed when the binding gets disposed.
If providing the name of the serial interface the connection gets closed and disposed when the binding is disposed.</p>
<pre><code class="lang-csharp">public Mhz19b(Stream stream, bool shouldDispose)
public Mhz19b(string uartDevice)
</code></pre>
<p>The CO2 concentration reading can be retrieved with</p>
<pre><code class="lang-csharp">public VolumeConcentration GetCo2Reading()
</code></pre>
<p>The sample application demonstrates the use of the binding API for sensor calibration.</p>
<p><strong>Note:</strong> Refer to the datasheet for more details on sensor calibration <strong>before</strong> using the calibration API of the binding. You may decalibrate the sensor otherwise!</p>
<h2 id="binding-notes">Binding Notes</h2>
<p>The MH-Z19B gas module provides a serial communication interface (UART) which can be directly wired to a ESP32 board. The module is supplied with 5V. The UART level is at 3.3V and no level shifter is required.</p>
<p><img src="https://user-images.githubusercontent.com/71304298/149633116-bc10424b-8d61-439c-b059-b305dd3fbf05.png" alt="Mhz19B_bb"></p>
<p>|Function| ESP32Pin| MH-Z19 pin|
|--------|-----------|------------|
|Vcc +5V |(+5V)      |6 (Vin)     |
|GND	 |(GND)      |7 (GND)     |
|UART    |32 (TXD2)  |2 (RXD)     |
|UART    |33 (RXD2)  |3 (TXD)     |
Table: MH-Z19B to ESP32 connection</p>
<p>The binding supports the connection through an UART interface (e.g. ``COM2```) or (serial port) stream.
When using the UART interface the binding instantiates the port with the required UART settings and opens it.
The use of an existing stream adds flexibility to the actual interface that used with the binding.
In either case the binding supports all commands of the module.</p>
<p><strong>Make sure that you read the datasheet carefully before altering the default calibration behaviour.
Automatic baseline correction is enabled by default.</strong></p>
<p>An example of the expected output from the sample :
<img src="https://user-images.githubusercontent.com/71304298/149633134-001c57cf-f45a-4547-aa69-6248b8e16803.png" alt="ExpectedOutput"></p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nanoframework/nanoframework.IoT.Device/blob/develop/devices/Mhz19b/README.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Copyright © 2023 nanoFramework Contributors<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

